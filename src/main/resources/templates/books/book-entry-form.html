<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add a Book</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
</head>
<body>
    <div class="container mainbox">

        <p class="h4 mb-4">Add a Book</p>
        <form action="#" th:object="${bookMA}" th:action="@{/books/save}" method="POST">

            <!-- Add hidden form field to handle update -->
            <input type="hidden" th:field="*{id}"/>

            Title: <input type="text" th:field="*{title}"
                   class="form-control mb-4 col-4" placeholder="Enter title of the Book"/>
            <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="mb-3 text-danger">title error</p>

            Author: <input type="text" th:field="*{author}"
                   class="form-control mb-4 col-4" placeholder="Enter author name"/>
            <p th:if="${#fields.hasErrors('author')}" th:errors="*{author}" class="mb-3 text-danger">author error</p>

            Publisher: <input type="text" th:field="*{publisher}"
                   class="form-control mb-4 col-4" placeholder="Enter publisher"/>
            <p th:if="${#fields.hasErrors('publisher')}" th:errors="*{publisher}" class="mb-3 text-danger">publisher error</p>

            Pages: <input type="text" th:field="*{pages}"
                   class="form-control mb-4 col-4" placeholder="Enter No. of pages"/>
            <p th:if="${#fields.hasErrors('pages')}" th:errors="*{pages}" class="mb-3 text-danger">pages error</p>

            Stock: <input type="text" th:field="*{stock}"
                   class="form-control mb-4 col-4" placeholder="Enter present stock"/>
            <p th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}" class="mb-3 text-danger">stock error</p>

            <button type="submit" class="btn btn-success col-2">Save</button>
        </form>
        <hr>
        <a th:href="@{/books/list}">Back to Books List</a>
    </div>
</body>
</html>